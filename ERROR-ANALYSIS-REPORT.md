# ã‚¨ãƒ©ãƒ¼åˆ†æãƒ¬ãƒãƒ¼ãƒˆ

ç”Ÿæˆæ—¥æ™‚: 2025-10-26

## ãƒã‚§ãƒƒã‚¯çµæœã‚µãƒãƒªãƒ¼

- **ç·ãƒšãƒ¼ã‚¸æ•°**: 18
- **æˆåŠŸ**: 7 âœ…
- **å¤±æ•—**: 11 âŒ

---

## âœ… æ­£å¸¸ãªãƒšãƒ¼ã‚¸ (7ä»¶)

1. index.html (èª­ã¿è¾¼ã¿æ™‚é–“: 4924ms)
2. plans.html (èª­ã¿è¾¼ã¿æ™‚é–“: 1979ms)
3. matrix.html
4. design.html
5. rules.html
6. downloads.html
7. faq.html

ã™ã¹ã¦ã®ãƒšãƒ¼ã‚¸ã§SupabaseåˆæœŸåŒ–ã¯æ­£å¸¸ã§ã™ã€‚

---

## âŒ å•é¡ŒãŒæ¤œå‡ºã•ã‚ŒãŸãƒšãƒ¼ã‚¸ (11ä»¶)

### 1. plan-detail.html?id=test

**ã‚¨ãƒ©ãƒ¼ã‚«ãƒ†ã‚´ãƒª**: Supabaseã‚¯ã‚¨ãƒªã‚¨ãƒ©ãƒ¼

**è©³ç´°**:
- Supabaseã‚¯ã‚¨ãƒªãŒ400ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ã¦ã„ã‚‹
- ã‚¯ã‚¨ãƒª: `id=neq.test` ãŠã‚ˆã³ `id=eq.test`
- åŸå› : `test`ã¯æœ‰åŠ¹ãªUUIDå½¢å¼ã§ã¯ãªã„ãŸã‚ã€SupabaseãŒã‚¯ã‚¨ãƒªã‚’æ‹’å¦

**å½±éŸ¿åº¦**: ğŸŸ¡ ä¸­ï¼ˆãƒ†ã‚¹ãƒˆæ™‚ã®ã¿ç™ºç”Ÿï¼‰

**æ¨å¥¨å¯¾ç­–**:
```javascript
// plan-detail.htmlã§UUIDæ¤œè¨¼ã‚’è¿½åŠ 
function isValidUUID(uuid) {
    const uuidPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;
    return uuidPattern.test(uuid);
}

// URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å–å¾—æ™‚ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
const urlParams = new URLSearchParams(window.location.search);
const planId = urlParams.get('id');

if (!planId || !isValidUUID(planId)) {
    console.warn('Invalid plan ID:', planId);
    // ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã¾ãŸã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
    window.location.href = '/plans.html';
}
```

---

### 2. ç®¡ç†ç”»é¢å…¨èˆ¬ï¼ˆ10ãƒšãƒ¼ã‚¸ï¼‰

**ã‚¨ãƒ©ãƒ¼ã‚«ãƒ†ã‚´ãƒª**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ (ERR_ABORTED)

**å½±éŸ¿ã‚’å—ã‘ã‚‹ãƒšãƒ¼ã‚¸**:
- admin.html
- admin-plans.html
- admin-report.html
- admin-downloads.html
- admin-faq.html
- admin-rules.html
- admin-notifications.html
- admin-users.html
- admin-profile.html
- admin-system.html

**è©³ç´°**:
ã™ã¹ã¦ã®ãƒšãƒ¼ã‚¸ã§ä»¥ä¸‹ã®ãƒªã‚½ãƒ¼ã‚¹ã®èª­ã¿è¾¼ã¿ãŒ`ERR_ABORTED`ã§ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã¦ã„ã¾ã™:
- Supabase JS Client
- Alpine.js
- common.js
- auth-guard.js

**åŸå› **:
èªè¨¼ãªã—ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ãŸã‚ã€auth-guardã«ã‚ˆã£ã¦ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã€ãƒªã‚½ãƒ¼ã‚¹èª­ã¿è¾¼ã¿ãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã¦ã„ã¾ã™ã€‚

**å½±éŸ¿åº¦**: ğŸŸ¢ ä½ï¼ˆæ­£å¸¸ãªå‹•ä½œï¼‰

**åˆ¤å®š**: **ã“ã‚Œã¯å•é¡Œã§ã¯ã‚ã‚Šã¾ã›ã‚“**
- auth-guardãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã‚‹è¨¼æ‹ 
- æœªèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹
- ç®¡ç†ç”»é¢ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãŒæ­£å¸¸ã«æ©Ÿèƒ½ã—ã¦ã„ã‚‹

**ç¢ºèªäº‹é …**:
âœ… SupabaseåˆæœŸåŒ–ã¯æ­£å¸¸ï¼ˆwindow.supabase, window.sbReadyï¼‰
âœ… authManagerã¯æ­£å¸¸ã«å‹•ä½œ

---

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ

| ãƒšãƒ¼ã‚¸ | èª­ã¿è¾¼ã¿æ™‚é–“ | è©•ä¾¡ |
|--------|-------------|------|
| index.html | 4924ms | ğŸ”´ è¦æ”¹å–„ |
| plans.html | 1979ms | ğŸŸ¢ è‰¯å¥½ |
| ãã®ä»–å…¬é–‹ãƒšãƒ¼ã‚¸ | < 3000ms | ğŸŸ¢ è‰¯å¥½ |

**index.htmlã®æ”¹å–„ææ¡ˆ**:
- é…å»¶èª­ã¿è¾¼ã¿ï¼ˆlazy loadingï¼‰ã®å®Ÿè£…
- åˆæœŸè¡¨ç¤ºã«ä¸è¦ãªãƒªã‚½ãƒ¼ã‚¹ã®é…å»¶èª­ã¿è¾¼ã¿
- ç”»åƒã®æœ€é©åŒ–

---

## ğŸ¯ ä¿®æ­£ãŒå¿…è¦ãªé …ç›®

### å„ªå…ˆåº¦: ä¸­

#### âœ… plan-detail.htmlã®UUIDæ¤œè¨¼

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/plan-detail.html`

**ä¿®æ­£å†…å®¹**:
1. URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®UUIDæ¤œè¨¼ã‚’è¿½åŠ 
2. ç„¡åŠ¹ãªIDã®å ´åˆã¯plans.htmlã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’æ”¹å–„

**æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ**:
- 400ã‚¨ãƒ©ãƒ¼ã®é˜²æ­¢
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã®å‘ä¸Š
- ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ã®å‰Šæ¸›

---

## ğŸ” æœ¬ç•ªç’°å¢ƒã§ã®ç¢ºèªäº‹é …

### å¿…é ˆãƒã‚§ãƒƒã‚¯

1. **æœ¬ç•ªç’°å¢ƒã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèª**
   ```bash
   vercel logs --since 1h
   ```

2. **å®Ÿéš›ã®ç®¡ç†ç”»é¢å‹•ä½œç¢ºèª**
   - æ­£å¸¸ã«ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã‹
   - çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹
   - CRUDã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œã™ã‚‹ã‹

3. **å…¬é–‹ãƒšãƒ¼ã‚¸ã®å‹•ä½œç¢ºèª**
   - plan-detail.htmlã§å®Ÿéš›ã®ãƒ—ãƒ©ãƒ³IDã§ã‚¢ã‚¯ã‚»ã‚¹
   - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ç¢ºèª

---

## ğŸ“ çµè«–

### å®Ÿéš›ã®å•é¡Œ: 1ä»¶

1. **plan-detail.html**: ç„¡åŠ¹ãªUUIDæ¤œè¨¼ãªã—

### æ­£å¸¸ãªå‹•ä½œï¼ˆã‚¨ãƒ©ãƒ¼ã§ã¯ãªã„ï¼‰: 10ä»¶

- ç®¡ç†ç”»é¢ã®ERR_ABORTED: èªè¨¼ã‚¬ãƒ¼ãƒ‰ãŒæ­£å¸¸ã«æ©Ÿèƒ½

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„æ¨å¥¨: 1ä»¶

- index.htmlã®èª­ã¿è¾¼ã¿æ™‚é–“æœ€é©åŒ–

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

- [ ] plan-detail.htmlã«UUIDæ¤œè¨¼ã‚’è¿½åŠ 
- [ ] æœ¬ç•ªç’°å¢ƒã§å®Ÿéš›ã®ãƒ—ãƒ©ãƒ³IDã§ãƒ†ã‚¹ãƒˆ
- [ ] index.htmlã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- [ ] æœ¬ç•ªç’°å¢ƒã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèª
