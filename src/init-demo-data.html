<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Initialize Demo Data</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                        }
                    }
                }
            }
        }
    </script>
</head>
<body>
    <h1>デモデータ初期化</h1>
    <button onclick="checkCurrentData()">現在のデータを確認</button>
    <button onclick="initDemoData()">デモデータを初期化</button>
    <button onclick="clearAllData()">全データをクリア</button>
    
    <div id="output" style="margin-top: 20px; padding: 20px; background: #f0f0f0; white-space: pre-wrap;"></div>
    
    <script>
        function log(message) {
            document.getElementById('output').innerHTML += message + '\n';
        }
        
        function checkCurrentData() {
            document.getElementById('output').innerHTML = '';
            
            // プランデータ
            const plansData = localStorage.getItem('plans_data');
            if (plansData) {
                const data = JSON.parse(plansData);
                log('=== プランデータ ===');
                log(`登録プラン数: ${(data.plans || []).length}`);
                if (data.plans && data.plans.length > 0) {
                    data.plans.forEach(plan => {
                        log(`  - ${plan.id}: ${plan.name || '名称なし'}`);
                    });
                }
            } else {
                log('プランデータなし');
            }
            
            // ダウンロードデータ
            const downloadsData = localStorage.getItem('downloads_data');
            if (downloadsData) {
                const data = JSON.parse(downloadsData);
                log('\n=== ダウンロードデータ ===');
                let totalFiles = 0;
                if (data.categories && typeof data.categories === 'object') {
                    Object.values(data.categories).forEach(cat => {
                        if (cat.items && Array.isArray(cat.items)) {
                            totalFiles += cat.items.length;
                        }
                    });
                }
                log(`総ファイル数: ${totalFiles}`);
            } else {
                log('\nダウンロードデータなし');
            }
            
            // FAQデータ
            const faqData = localStorage.getItem('faq_data');
            if (faqData) {
                const data = JSON.parse(faqData);
                log('\n=== FAQデータ ===');
                log(`FAQ数: ${(data.faqs || []).length}`);
            } else {
                log('\nFAQデータなし');
            }
            
            // 管理者データ
            const adminData = localStorage.getItem('admin_users_data');
            if (adminData) {
                const data = JSON.parse(adminData);
                log('\n=== 管理者データ ===');
                log(`管理者数: ${(data.users || []).length}`);
            } else {
                log('\n管理者データなし');
            }
        }
        
        function initDemoData() {
            document.getElementById('output').innerHTML = '';
            
            // デモプランデータ
            const demoPlans = {
                plans: [
                    {
                        id: 'LX-030A',
                        name: 'スタンダードプラン30A',
                        tsubo: 30,
                        depth: 9100,
                        width: 5460,
                        prices: {
                            sell: 18000000,
                            cost: 14000000,
                            gross: 4000000
                        },
                        tags: ['2階建て', '南入り', '1階LDK', '1階水廻り'],
                        status: 'published',
                        createdAt: new Date().toISOString(),
                        updatedAt: new Date().toISOString()
                    }
                ]
            };
            localStorage.setItem('plans_data', JSON.stringify(demoPlans));
            log('プランデータを初期化しました（1プラン）');
            
            // デモダウンロードデータ
            const demoDownloads = {
                categories: {
                    pamphlet: {
                        name: 'パンフレット',
                        items: [
                            { id: 1, name: 'LIFE X総合カタログ.pdf', size: '15MB' },
                            { id: 2, name: 'プラン集2024.pdf', size: '8MB' }
                        ]
                    }
                }
            };
            localStorage.setItem('downloads_data', JSON.stringify(demoDownloads));
            log('ダウンロードデータを初期化しました（2ファイル）');
            
            // デモFAQデータ
            const demoFAQ = {
                faqs: [
                    {
                        id: 1,
                        category: '価格について',
                        question: '標準価格に含まれるものは？',
                        answer: '建物本体、標準設備、標準仕様が含まれます。',
                        status: 'active'
                    }
                ]
            };
            localStorage.setItem('faq_data', JSON.stringify(demoFAQ));
            log('FAQデータを初期化しました（1件）');
            
            // デモ管理者データ
            const demoAdmins = {
                users: [
                    {
                        id: 1,
                        name: '管理者',
                        email: 'admin@lifex.jp',
                        role: 'admin'
                    }
                ]
            };
            localStorage.setItem('admin_users_data', JSON.stringify(demoAdmins));
            log('管理者データを初期化しました（1名）');
            
            log('\n初期化完了！ページをリロードしてください。');
        }
        
        function clearAllData() {
            localStorage.removeItem('plans_data');
            localStorage.removeItem('downloads_data');
            localStorage.removeItem('faq_data');
            localStorage.removeItem('admin_users_data');
            localStorage.removeItem('rules_categories_data');
            document.getElementById('output').innerHTML = '全データをクリアしました';
        }
    </script>
</body>
</html>